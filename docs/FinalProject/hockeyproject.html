<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Devin Davidson">
<meta name="keywords" content="R, data viz">

<title>Devin Davidson - STT 2860 Final Project: Hockey</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Devin Davidson</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../landingpage.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../aboutme.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects.html" rel="" target="">
 <span class="menu-text">R for Data Science Projects</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="../linkedin.com/in/devin-davidson-52b6aa2b4" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/devindavidson46/">
            Source Code
            </a>
          </li>
      </ul>
    </div>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#loading-necessary-packages" id="toc-loading-necessary-packages" class="nav-link active" data-scroll-target="#loading-necessary-packages">Loading Necessary Packages</a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">Importing Data</a></li>
  <li><a href="#examining-and-munging-data" id="toc-examining-and-munging-data" class="nav-link" data-scroll-target="#examining-and-munging-data">Examining and Munging Data</a></li>
  <li><a href="#plotting-trends-and-visualizing-data" id="toc-plotting-trends-and-visualizing-data" class="nav-link" data-scroll-target="#plotting-trends-and-visualizing-data">Plotting Trends and Visualizing Data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">STT 2860 Final Project: Hockey</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Devin Davidson </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.appstate.edu/">
            Appalachian State University
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Last modified on December 02, 2024 11:44:49 Eastern Standard Time</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    <p>In this project we will aim to find indicators of playoff success from regular season and playoff statistics in the NHL.</p>
  </div>
</div>

</header>

<section id="loading-necessary-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-necessary-packages">Loading Necessary Packages</h2>
<p>In this project we will use the <code>dplyr</code> package to munge data. The <code>ggplot2</code> package will be used to plot and visualize the data.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-data" class="level2">
<h2 class="anchored" data-anchor-id="importing-data">Importing Data</h2>
<p>The information used herein was obtained free of charge from and is copyrighted by the <a href="http://sports.groups.yahoo.com/group/hockey-databank">Hockey Databank Project</a>. For more information about the Hockey Databank Project please visit: http://sports.groups.yahoo.com/group/hockey-databank</p>
<p>All of the data was downloaded from <a href="https://www.kaggle.com/datasets/open-source-sports/professional-hockey-database">Kaggle</a>. This project contains 2 data sets and each file was imported and read with the <code>read.csv()</code> function.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>regseason <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"./data/Teams.csv"</span>,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>postseason <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"./data/TeamsPost.csv"</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="examining-and-munging-data" class="level2">
<h2 class="anchored" data-anchor-id="examining-and-munging-data">Examining and Munging Data</h2>
<p>First let’s examine the structure of these two data frames using the <code>str()</code> function to see what we are working with.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(regseason)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   1519 obs. of  27 variables:
 $ year      : int  1909 1909 1909 1909 1909 1909 1909 1910 1910 1910 ...
 $ lgID      : chr  "NHA" "NHA" "NHA" "NHA" ...
 $ tmID      : chr  "COB" "HAI" "LES" "MOS" ...
 $ franchID  : chr  "BKN" "MTL" "TBS" "MOS" ...
 $ confID    : chr  "" "" "" "" ...
 $ divID     : chr  "" "" "" "" ...
 $ rank      : int  4 5 7 6 1 2 3 2 4 1 ...
 $ playoff   : chr  "" "" "" "" ...
 $ G         : int  12 12 12 12 12 12 12 16 16 16 ...
 $ W         : int  4 4 2 3 11 9 8 8 7 13 ...
 $ L         : int  8 8 10 8 1 3 3 8 9 3 ...
 $ T         : int  0 0 0 1 0 0 1 0 0 0 ...
 $ OTL       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ Pts       : int  8 8 4 7 22 18 17 16 14 26 ...
 $ SoW       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ SoL       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ GF        : int  79 77 59 52 91 89 96 66 73 122 ...
 $ GA        : int  104 83 100 95 41 66 54 62 88 69 ...
 $ name      : chr  "Cobalt Silver Kings" "Haileybury Hockey Club" "Les Canadiens" "Montreal Shamrocks" ...
 $ PIM       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ BenchMinor: int  NA NA NA NA NA NA NA NA NA NA ...
 $ PPG       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ PPC       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ SHA       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ PKG       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ PKC       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ SHF       : int  NA NA NA NA NA NA NA NA NA NA ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(postseason)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   927 obs. of  17 variables:
 $ year      : int  1913 1913 1914 1914 1916 1916 1917 1917 1917 1917 ...
 $ lgID      : chr  "NHA" "NHA" "NHA" "NHA" ...
 $ tmID      : chr  "MOC" "TBS" "MOW" "OT1" ...
 $ G         : int  2 2 2 2 2 2 2 2 2 2 ...
 $ W         : int  1 1 1 1 1 1 1 1 0 1 ...
 $ L         : int  1 1 1 1 1 1 1 1 1 0 ...
 $ T         : int  0 0 0 0 0 0 0 0 1 1 ...
 $ GF        : int  2 6 1 4 7 6 7 10 2 3 ...
 $ GA        : int  6 2 4 1 6 7 10 7 3 2 ...
 $ PIM       : int  NA NA NA NA NA NA 59 68 NA NA ...
 $ BenchMinor: int  NA NA NA NA NA NA NA NA NA NA ...
 $ PPG       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ PPC       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ SHA       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ PKG       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ PKC       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ SHF       : int  NA NA NA NA NA NA NA NA NA NA ...</code></pre>
</div>
</div>
<p>A lot of these variables are not named intuitively. We will fix that using the <code>mutate</code> verb so they make more sense. Additionally we will <code>select</code> for the variables we want to look at as some are going to be unnecessary for this project.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>rsupdate <span class="ot">&lt;-</span> regseason <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2005</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Abrev =</span> tmID,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsG =</span> G,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsW =</span> W,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsL =</span> L,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsT =</span> T,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsOTL =</span> OTL,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsGF =</span> GF,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsGA =</span> GA,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsPIMpG =</span> PIM <span class="sc">/</span> G,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsPPpercent =</span> (PPG <span class="sc">/</span> PPC) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsPKpercent =</span> <span class="dv">100</span> <span class="sc">-</span> ((PKG <span class="sc">/</span> PKC) <span class="sc">*</span> <span class="dv">100</span>),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsPPGF =</span> PPG,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsPPGF =</span> PPG,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsPPs =</span> PPC,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsSHGA =</span> SHA,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">rsSHGF =</span> SHF) <span class="sc">|&gt;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, franchID, name, tmID, </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>         Pts, rank, playoff, </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>         rsG, rsW, rsL, </span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>         rsOTL, rsGF, rsGA, </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>         rsPPpercent, rsPKpercent, rsPPGF, </span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>         rsPPs, rsSHGF, rsSHGA, </span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>         rsPIMpG)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>psupdate <span class="ot">&lt;-</span> postseason <span class="sc">|&gt;</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2005</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">psG =</span> G,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">psW =</span> W,</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">psL =</span> L,</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">psGF =</span> GF,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">psGA =</span> GA,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPIM =</span> PIM,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPPpercent =</span> (PPG <span class="sc">/</span> PPC) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPKpercent =</span> <span class="dv">100</span> <span class="sc">-</span> ((PKG <span class="sc">/</span> PKC) <span class="sc">*</span> <span class="dv">100</span>),</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPPGF =</span> PPG,</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPPs =</span> PPC,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPPGA =</span> PKG,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPPsA =</span> PKC,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">psSHGA =</span> SHA,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>         <span class="at">psSHGF =</span> SHF,</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">psPIMpG =</span> PIM <span class="sc">/</span> psG) <span class="sc">|&gt;</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, tmID, psG, </span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>         psW, psL, psGF, </span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>         psGA, psPPpercent, psPKpercent, </span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>         psPPGF, psPPs, psSHGF, psSHGA, psPIMpG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we will combine the two data frames into one and call it <code>NHL</code>. Then we will look at the structure, using <code>str()</code>, of the new data frame.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>NHL <span class="ot">&lt;-</span> <span class="fu">full_join</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  rsupdate, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  psupdate,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">join_by</span>(year <span class="sc">==</span> year, tmID <span class="sc">==</span> tmID)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(NHL)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   210 obs. of  32 variables:
 $ year       : int  2005 2005 2005 2005 2005 2005 2005 2005 2005 2005 ...
 $ franchID   : chr  "ANA" "WPG" "BOS" "BUF" ...
 $ name       : chr  "Mighty Ducks of Anaheim" "Atlanta Thrashers" "Boston Bruins" "Buffalo Sabres" ...
 $ tmID       : chr  "ANA" "ATL" "BOS" "BUF" ...
 $ Pts        : int  98 90 74 110 103 112 74 65 95 112 ...
 $ rank       : int  3 3 5 2 1 1 3 4 2 1 ...
 $ playoff    : chr  "CF" "" "" "CF" ...
 $ rsG        : int  82 82 82 82 82 82 82 82 82 82 ...
 $ rsW        : int  43 41 29 52 46 52 35 26 43 53 ...
 $ rsL        : int  27 33 37 24 25 22 43 43 30 23 ...
 $ rsOTL      : int  12 8 16 6 11 8 4 13 9 6 ...
 $ rsGF       : int  254 281 230 281 218 294 223 211 283 265 ...
 $ rsGA       : int  229 275 266 239 200 260 279 285 257 218 ...
 $ rsPPpercent: num  18.1 19 14.8 21.2 18.2 ...
 $ rsPKpercent: num  83.5 79.3 83.7 86.6 84.3 ...
 $ rsPPGF     : int  87 100 62 101 87 95 64 51 89 88 ...
 $ rsPPs      : int  480 527 418 477 478 531 451 417 473 498 ...
 $ rsSHGF     : int  9 13 9 10 8 17 10 6 11 10 ...
 $ rsSHGA     : int  13 10 10 17 7 13 8 12 12 7 ...
 $ rsPIMpG    : num  17.8 16.4 14.3 14.2 18.1 ...
 $ psG        : int  16 NA NA 18 7 25 NA NA 9 5 ...
 $ psW        : int  9 NA NA 11 3 16 NA NA 4 1 ...
 $ psL        : int  7 NA NA 7 4 9 NA NA 5 4 ...
 $ psGF       : int  46 NA NA 60 16 73 NA NA 22 15 ...
 $ psGA       : int  36 NA NA 49 17 60 NA NA 31 18 ...
 $ psPPpercent: num  10.8 NA NA 16.2 14 ...
 $ psPKpercent: num  88.5 NA NA 82.6 86.4 ...
 $ psPPGF     : int  11 NA NA 16 6 31 NA NA 5 5 ...
 $ psPPs      : int  102 NA NA 99 43 129 NA NA 52 31 ...
 $ psSHGF     : int  1 NA NA 5 2 2 NA NA 2 1 ...
 $ psSHGA     : int  4 NA NA 2 1 2 NA NA 1 1 ...
 $ psPIMpG    : num  16.7 NA NA 12.2 18.4 ...</code></pre>
</div>
</div>
<p>Lets look at, and define, the variables we have in the <code>NHL</code> data frame.</p>
<p><code>year</code>: The NHL season in which the observation is from. The year 2005 refers to the 2005-06 NHL season.</p>
<p><code>name</code>: The full name of the team.</p>
<p><code>tmID</code>: The abbreviated name of the team.</p>
<p><code>Pts</code>: Points accumulated by the team at the end of the regular season. A team gets 2 points for a win, 1 point for an overtime loss, and 0 points for a regulation loss.</p>
<p><code>rank</code>: The team’s final ranking in the standings.</p>
<p><code>playoff</code>: How the team finished in the playoffs. CQF means they lost in the Conference Quarter Finals (round 1). CSF means they lost in the Conference Semi Finals (round 2). CF means they lost in the Conference Finals (round 3). F means they lost in the finals (round 4). SC means they won the Stanley Cup!</p>
<p><code>rsG</code>: The amount of games played in the regular season.</p>
<p><code>rsW:</code> The amount of wins in the regular season.</p>
<p><code>rsL</code>: The amount of losses in the regular season.</p>
<p><code>rsOTL</code>: The amount of overtime losses in the regular season.</p>
<p><code>rsGF</code>: The amount of goals scored by the team in the regular season.</p>
<p><code>rsGA</code>: The amount of goals given up by the team in the regular season.</p>
<p><code>rsPPpercent</code>: The percentage of power plays that the team scored during in the regular season.</p>
<p><code>rsPKpercent</code>: The percentage of penalty kills a team was successful in not giving up a goal in the regular season.</p>
<p><code>rsPPGF</code>: The amount of power play goals scored in the regular season.</p>
<p><code>rsPPs</code>: The amount of power plays a team had in the regular season.</p>
<p><code>rsSHGF</code>: The amount of goals scored by a team while they are on the penalty kill in the regular season.</p>
<p><code>rsSHGA</code>: The amount of penalty kill goals scored by opposing teams in the regular season.</p>
<p><code>rsPIMpG</code>: The average amount of penalty minutes a team had each game in the regular season.</p>
<p><code>psG</code>: The amount of games played in the playoffs.</p>
<p><code>psW</code>: The amount of wins in the playoffs.</p>
<p><code>psL</code>: The amount of losses in the playoffs.</p>
<p><code>psGF</code>: The amount of goals scored by the team in the playoffs.</p>
<p><code>psGA</code>: The amount of goals given up by the team in the playoffs.</p>
<p><code>psPPpercent</code>: The percentage of power plays that the team scored during in the regular season.</p>
<p><code>psPKpercent</code>: The percentage of penalty kills a team was successful in not giving up a goal in the playoffs.</p>
<p><code>psPPGF</code>: The amount of power play goals scored in the playoffs.</p>
<p><code>psPPs</code>: The amount of power plays a team had in the regular season.</p>
<p><code>psSHGF</code>: The amount of goals scored by a team while they are on the penalty kill in the playoffs.</p>
<p><code>psSHGA</code>: The amount of penalty kill goals scored by opposing teams in the playoffs.</p>
<p><code>psPIMpG</code>: The average amount of penalty minutes a team had each game in the playoffs.</p>
</section>
<section id="plotting-trends-and-visualizing-data" class="level2">
<h2 class="anchored" data-anchor-id="plotting-trends-and-visualizing-data">Plotting Trends and Visualizing Data</h2>
<p>The main thing that we will be looking at in this project is to try and find regular season stats that can be indicators of playoff success. First, we will look at how the points (<code>Pts</code>) each team earned can indicate playoff success (<code>playoff</code>).</p>
<p>The data points in a lot of these graphs will be jittered using <code>position = position_jitter()</code> allowing us to see overlapping data points. This means that the left-right shift of data within each year column does not mean anything.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> Pts, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.15</span>)) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Points"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsPts" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsPts-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Scatterplot showing the amount of points that teams earned by year and colored by their playoff success</figcaption>
</figure>
</div>
</div>
</div>
<p>It’s interesting that in only 1 these years the top team in points won the Stanley Cup. Additionally it was the fourth worst team to make the playoffs in 2011 to win the Stanley Cup. Next, we will look at goals for (<code>rsGF</code>) and goals against (<code>rsGA</code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> rsGA, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.15</span>)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Regular Season Goals Against"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsGA" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsGA-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Scatterplot showing the amount of goals against each team had by year and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> rsGF, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Regular Season Goals For"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsGF" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsGF-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Scatterplot showing the amount of goals for each team had by year and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> rsGF, <span class="at">y =</span> rsGA, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Regular Season Goals For"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Regular Season Goals Against"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsGFGA" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsGFGA-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;4: Scatterplot showing the amount of goals for and goals against teams had and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<p>It looks like regular season goals for and goals against are not perfect indicators of playoff success individually. When both goals for and goals against are plotted together, it can be seen that being a team can be successful if they are either good at both goals for and goals against or elite at one and poor at the other. Next we will look at penalty minutes (<code>rsPIMpG</code>) to see if being more disciplined in the regular season can indicate a successful playoff team.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> rsPIMpG, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Regular Season Penalty Minuter per Game"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsPIM" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsPIM-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;5: Scatterplot showing the amount of penalty minutes per game teams had by year and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<p>It looks like regular season penalty minutes is not a good indicator either of playoff success. In fact, in 2006 the Stanley Cup winner had the most regular season penalty minutes in the entire NHL. Next, let’s look at special teams: the penalty kill (<code>rsPKpercent</code>) and power play (<code>rsPPpercent</code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> rsPPpercent, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Regular Season Power Play Percentage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsPP" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsPP-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;6: Scatterplot showing the power play success percentage of teams by year and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> rsPKpercent, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Regular Season Penalty Kill Percentage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsPK" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsPK-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;7: Scatterplot showing the penalty kill success percentage of teams by year and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> rsPKpercent, <span class="at">y =</span> rsPPpercent, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Regular Season Penalty Kill Percentage"</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Regular Season Power Play Percentage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsPKPP" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsPKPP-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;8: Scatterplot showing the penalty kill and power play success percentages of teams and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<p>It seems that having a balanced special teams is important to having playoff success. Most teams to be only good at one aspect tend to struggle in the playoffs. It looks like having a great penalty kill is slightly more important than having a good power play.</p>
<p>Let’s add another variable to the data frame called <code>WPts</code> which will indicate the amount of points that come from wins, as opposed to the one point a team gets for an overtime loss.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>NHL <span class="ot">&lt;-</span> NHL <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WPts =</span> Pts <span class="sc">-</span> rsW)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> Pts, <span class="at">y =</span> WPts, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Points"</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Points from Wins"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rsWPts" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-rsWPts-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;9: Scatterplot comparing the points earned to the points earned only from wins of teams and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<p>Since in the playoffs the only thing that matters in winning, I expected to see a trend that successful teams in the playoffs would be on the top of this line however only 2 of the Stanley Cup winners are.</p>
<p>It appears that there are not any good indicators of playoff success that come from the regular season. Instead, let’s look at playoff stats and see what areas the Stanley Cup winners excel at.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> psGF, <span class="at">y =</span> psGA, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Playoff Goals For"</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Playoff Goals Against"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-psGFGA" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-psGFGA-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;10: Scatterplot showing the goals for and goals against of each team in the playoffs and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<p>From this plot it appears that successful playoff teams need to be good at both scoring and defending however, it looks like limiting goals against is more important than scoring goals. It looks like the teams that give up a lot of goals tend to get eliminated in the conference finals. Let’s look at discipline in the playoffs next.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> psPIMpG, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Playoff Penalty Minutes per Game"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-psPIM" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-psPIM-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;11: Scatterplot showing the amount of penalty minutes per game of teams in the playoffs by year and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<p>More often than not, playoff discipline is important however in none of the studied years was did the Stanley Cup winner have the fewest PIM per game. This could indicate that being disciplined is good however some edge, grit, and hard work that can lead to some penalty minutes is also important. Finally we will look at playoff special teams.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> psPPpercent, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Playoff Power Play Percentage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-psPP" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-psPP-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;12: Scatterplot showing the power play success percentage of teams by year in the playoffs and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> psPKpercent, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Playoff Penalty Kill Percentage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-psPK" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-psPK-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;13: Scatterplot showing the penalty kill success percentage of teams by year in the playoffs and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NHL, <span class="fu">aes</span>(<span class="at">x =</span> psPPpercent, <span class="at">y =</span> psPKpercent, <span class="at">color =</span> playoff)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">w=</span><span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Playoff Power Play Percentage"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Playoff Penalty Kill Percentage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-psPKPP" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hockeyproject_files/figure-html/fig-psPKPP-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;14: Scatterplot showing the penalty kill and power play success percentage of teams in the playoffs and colored by their playoff success.</figcaption>
</figure>
</div>
</div>
</div>
<p>It looks like having a good penalty kill is more important than having a good powerplay although neither are great indicators of playoff success.</p>
<p>It looks like there aren’t any specific stats that indicate playoff success. I suppose all the matters is winning 16 games and that can be done in a variety of ways. This isn’t the most exciting result to find but it is good to know.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>